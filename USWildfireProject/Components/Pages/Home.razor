@using Microsoft.EntityFrameworkCore
@using USWildfireProject.Data
@using USWildfireProject.Models
@using USWildfireProject.Components.Pages.Graphs
@using USWildfireProject.Components.Pages
@* @attribute [RenderModeInteractiveServer] *@
@rendermode InteractiveServer
@inject IDbContextFactory<WildfireContext> WildfireDataContextFactory

@page "/"

<PageTitle>Home</PageTitle>

<RadzenButton Click="ShowWildfires" @bind-IsBusy="@IsLoading" BusyText="Loading..." Text="Show Wildfires"/>
@if (Wildfires is not null && Wildfires.Count > 0)
{
    <RadzenText TextStyle="TextStyle.Body1" Text="@($"Total Wildfire Count: {Wildfires.Count()}")" />
    
    <FireMap Wildfires="Wildfires" />
    <FireByYearGraph Wildfires="Wildfires" />
    <FireByMonthGraph Wildfires="Wildfires" />
    <FireByCauseGraph Wildfires="Wildfires" />
    <FireContainmentByClassGraph Wildfires="Wildfires" />
}